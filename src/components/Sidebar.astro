---
import { Image } from 'astro:assets';
import profileImage from '../assets/profile.jpg';

interface Props {
  activeNav?: string;
}

const { activeNav = 'index' } = Astro.props;

const navItems = [
  { href: "/", label: "üßä ÂÜ∞Â±ã / Igloos", id: "index" },
  { href: "/time", label: "üï∞Ô∏è Êó∂ÂÖâ / Time", id: "time" },
  { href: "/pieces", label: "‚ú® Á¢éÁâá / Pieces", id: "pieces" },
  { href: "/dream", label: "üêá Ê¢¶Â¢É / Dream", id: "dream" },
  { href: "/about", label: "‚òÅÔ∏è ÂÖ≥‰∫é / About", id: "about" },
];
---

<aside>
    <div class="station-data">
        LOC: DREAM-LAND <br>
        TIME: 12:00 AM <br>
        STATUS: GLOWING
    </div>

    <div class="profile">
        <Image src={profileImage} alt="Avatar" class="avatar" width={180} height={180} />
        <div class="site-name">igloos</div>
        <div class="site-desc">Dreaming of rabbits.</div>
    </div>

    <nav>
        <ul>
            {navItems.map((item) => (
                <li>
                    <a href={item.href} class={activeNav === item.id ? "active" : ""}>
                        {item.label}
                    </a>
                </li>
            ))}
        </ul>
    </nav>
</aside>

<style>
    aside {
        width: var(--nav-width);
        padding: 30px 30px; 
        position: fixed;
        height: 100vh;
        background: rgba(255, 255, 255, 0.4); 
        backdrop-filter: blur(15px); 
        -webkit-backdrop-filter: blur(15px);
        border-right: 1px solid rgba(255, 255, 255, 0.6);
        display: flex;
        flex-direction: column;
        z-index: 10;
        border-radius: 0; 
        box-shadow: 2px 0 20px rgba(118, 159, 205, 0.1); 
    }

    .station-data {
        font-size: 0.7rem; color: var(--text-light); margin-bottom: 20px; 
        font-family: monospace; border-bottom: 2px solid var(--col-3-medium);
        padding-bottom: 10px; letter-spacing: 1px;
        position: static; text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    }

    .profile { text-align: center; margin-bottom: 20px; }

    .avatar {
        width: 90px; height: 90px; border-radius: 50%;
        border: 3px solid #fff; outline: 2px solid var(--col-3-medium);
        box-shadow: 0 0 15px rgba(185, 215, 234, 0.6);
        display: block; margin: 0 auto 15px auto; object-fit: cover;
        transition: transform 0.5s ease; background-color: var(--col-3-medium);
        padding: 0px;
        image-rendering: -webkit-optimize-contrast;
    }
    .avatar:hover { transform: scale(1.05) rotate(10deg); box-shadow: 0 0 20px rgba(118, 159, 205, 0.5); }

    .site-name {
        font-size: 1.8rem; font-weight: bold; color: var(--text-main); margin-bottom: 2px;
        text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.9);
    }
    .site-desc { font-size: 0.9rem; color: var(--text-light); }

    nav ul { list-style: none; margin-top: 0; }
    nav li { margin-bottom: 8px; }

    nav a {
        text-decoration: none; color: var(--text-main); font-size: 1rem;
        display: block; padding: 10px 20px; transition: all 0.3s ease;
        position: relative; border-radius: 50px; background: transparent; 
    }

    nav a:hover, nav a.active {
        background-color: rgba(255, 255, 255, 0.7); 
        color: var(--col-4-dark);
        padding-left: 25px;
        box-shadow: 0 2px 10px rgba(185, 215, 234, 0.3);
    }

    @media (max-width: 768px) {
        aside { 
            position: relative; width: 100%; height: auto; 
            padding: 30px; border-right: none;
            border-bottom: 2px solid var(--col-3-medium);
            border-radius: 0; 
            background: rgba(255, 255, 255, 0.6);
            justify-content: flex-start;
        }
        .station-data { position: static; margin-bottom: 20px; }
    }
</style>
